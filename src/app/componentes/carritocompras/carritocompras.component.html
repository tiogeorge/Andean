<div class="container-fluid" style="background-color: white">
  <div class="row">
    <div class="col-md-8 col-lg-9" id="contenedorarticuloscart">
      <hr>
      <div class="container">
        <div class="row">
          <div class="col-9 col-md-8 col-lg-9">
            <h5 class="titulo">CARRITO DE COMPRAS</h5>
          </div>
          <div class="col-3 col-md-4 col-lg-3">
            <button mat-icon-button color="primary" (click)="eliminartodo()" [hidden]="!mostrarArticulos">
              <mat-icon aria-label="Eliminar todo" matTooltip="Eliminar todos los artÃ­culos" matTooltipClass="colortooltip">delete_forever</mat-icon>
              {{tituloEliminar}}
            </button>
          </div>
        </div>
      </div>
      <hr>
      <h5 class="titulo" [style.display]="!mostrarArticulos ? 'block' : 'none'">NO TIENES PRODUCTOS EN TU CARRITO</h5>
      <div class="container" [hidden]="!mostrarArticulos">
        <div class="row" *ngFor="let articulo of listaArticulos; let i = index">
          <div class="col-lg-12" id="contenedorarticulo{{articulo.titulo}}">
            <div class="container-fluid">
              <div class="row">
                <div class="col-4" id="colart1{{articulo.titulo}}" style="text-align: center;">
                  <a href="#" matTooltip="{{articulo.titulo}}" matTooltipClass="colortooltip">
                    <img src="{{urlImagenes}}/tmp/{{articulo.imagenes[0]}}" alt="{{articulo.titulo}}" [style.height]="alturaImg"
                      width="auto">
                  </a>
                </div>
                <div class="col-6" id="colart2{{articulo.titulo}}">
                  <a class="card-title tituloPlan">{{ articulo.titulo }}</a>
                  <p class="card-text nombrePlan">{{listaPlanArticulo[i].nombreplan}}</p>
                  <p class="card-text precioPlan">S/ {{listaPlanArticulo[i].precio}}</p>
                </div>
                <div class="col-2">
                  <button type="button" class="close" aria-label="Close" matTooltip="Eliminar" matTooltipClass="colortooltip"
                    (click)="eliminaritem(articulo.url)">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
              </div>
            </div>
            <hr>
          </div>
        </div>
      </div>
    </div>
    <!-- bloqueterminarcompras -->
    <div class="col-md-4 col-lg-3" style="background-color: white" [hidden]="!mostrarArticulos">
      <hr>
      <h5 class="titulo">RESUMEN DE PEDIDO</h5>
      <hr>
      <p class="subtitulo">Sub Total</p>
      <p class="sol">S/</p>
      <p class="precioSubtitulo">{{subtotal}}</p>
      <hr>
      <p class="subtitulo">Envio</p>
      <p class="sol">S/</p>
      <p class="precioSubtitulo">{{envio}}</p>
      <hr>
      <b>
        <p (click)="mostrardivenvio()">Calcular Envio</p>
      </b>
      <div [style.display]="mostrarEnvio ? 'block' : 'none'">
        <div class="form-group">
          <label for="sDepartamento">Departamento</label>
          <select class="form-control" id="sDepartamento" (change)="regionService.setDepartamentoSelected($event.target.value)">
            <option value="1">Seleccione un departamento</option>
            <option *ngFor="let dep of regionService.regiones" [value]="dep.departamento">{{dep.departamento}}</option>
          </select>
        </div>
        <div class="form-group">
          <label for="sProvincia">Provincia</label>
          <select class="form-control" id="sProvincia" (change)="regionService.setProvinciaSelected($event.target.value)">
            <option value="1">Seleccione una provincia</option>
            <option *ngFor="let prov of regionService.departamentoSelected.provincias" [value]="prov.provincia">{{prov.provincia}}</option>
          </select>
        </div>
        <div class="form-group">
          <label for="sDistrito">Distrito</label>
          <select class="form-control" id="sDistrito" (change)="regionService.setDistritoSelected($event.target.value)">
            <option value="1">Seleccione un distrito</option>
            <option *ngFor="let dist of regionService.provinciaSelected.distritos" [value]="dist">{{dist}}</option>
          </select>
        </div>
        <button class="btn btn-warning btnandean" (click)="calcularEnvio()">CALCULAR ENVIO</button>
      </div>
      <hr>
      <p class="subtitulo">TOTAL</p>
      <p class="sol">S/</p>
      <p class="precioSubtitulo">{{subtotal + envio}}</p>
      <hr>
      <button class="btn btn-warning btnandean" style="background-color: orangered; color:white" (click)="procesarCompra()">PROCESAR
        COMPRA</button>
      <hr>
    </div>
  </div>
  <br>
</div>